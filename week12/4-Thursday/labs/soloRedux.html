<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>



        <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.5/redux.min.js" integrity="sha512-P36ourTueX/PrXrD4Auc1kVLoTE7bkWrIrkaM0IG2X3Fd90LFgTRogpZzNBssay0XOXhrIgudf4wFeftdsPDiQ==" crossorigin="anonymous"></script>
<script>
    let addPerson = (id, name, age)=>{

    return {
                type: "ADD",
                personData: {
                    id: id,
                    name: name,
                    age: age
                }
        }
    }


        let initialState = {
            persons: [],
            count: 0
        }

        let reducer = (state, action) =>{
            if (state == undefined){
                state = initialState
            }

            if (action.type === "ADD"){
                return{
                    ...state,
                    persons: state.persons.concat(action.personData)
                }
            }

            else {
                return state
            }
        }
        




    let store = Redux.createStore(reducer)
    
    let showState = () => {
        console.log(store.getState())
    }
    store.subscribe(showState)
    store.dispatch(addPerson(1, 'Michael', 21))

</script>
 
    </body>
</html>
